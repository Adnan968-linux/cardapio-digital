<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Nosso Clube - Cardápio Digital</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET COMPLETO ===== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }
        
        /* ===== VARIÁVEIS GLOBAIS ===== */
        :root {
            --marrom: #8B4513;
            --marrom-claro: #D2B48C;
            --preto: #000;
            --branco: #fff;
            --cinza: #faf7f2;
            --cinza-escuro: #2d2d2d;
            --sombra: 0 12px 0 #d0d0d0;
            --sombra-hover: 0 18px 0 #a0a0a0;
            --border-radius: 32px;
            --border-radius-mobile: 24px;
        }

        body {
            background: var(--cinza);
            padding: 20px;
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
        }

        .container, .admin-panel-content {
            max-width: 1300px;
            margin: 0 auto;
            background: rgba(255,255,255,0.92);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 48px 48px 32px 32px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.15);
            border: 1px solid rgba(160,160,160,0.2);
            overflow: hidden;
        }

        .header, .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 35px;
            background: linear-gradient(145deg, #0a0a0a, var(--preto));
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, var(--marrom), var(--marrom-claro), var(--marrom)) 1;
            border-radius: 48px 48px 0 0;
            box-shadow: 0 8px 0 #1a1a1a;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .soda-icon {
            font-size: 56px;
            display: inline-block;
            animation: girar 10s infinite linear;
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.4));
        }

        @keyframes girar { 
            100% { transform: rotate(360deg); } 
        }

        h1 {
            font-size: 3.2rem;
            font-weight: 900;
            font-family: 'Playfair Display', serif;
            font-style: italic;
            background: linear-gradient(135deg, #fff, #f5e6d3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 3px 3px 0 var(--marrom);
            margin: 0;
        }

        .admin-button, .admin-btn, .btn-add, .login-btn, .filtro-btn {
            background: var(--marrom);
            color: white;
            border: 2px solid var(--marrom-claro);
            padding: 12px 32px;
            border-radius: 60px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 var(--preto);
            font-size: 1rem;
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .admin-button:hover, .admin-btn:hover, .btn-add:hover, .login-btn:hover, .filtro-btn:hover {
            background: #5c3e2a;
            transform: translateY(-2px);
            box-shadow: 0 6px 0 var(--preto);
        }

        .admin-btn-secondary {
            background: rgba(255,255,255,0.8);
            color: var(--cinza-escuro);
            border: 2px solid var(--marrom);
            padding: 12px 32px;
            border-radius: 60px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 0 #d0d0d0;
            transition: all 0.3s ease;
        }

        .admin-btn-secondary:hover {
            background: var(--marrom);
            color: white;
            border-color: var(--marrom-claro);
            transform: translateY(-2px);
            box-shadow: 0 6px 0 var(--preto);
        }

        .category-nav {
            display: flex;
            gap: 15px;
            margin: 30px 35px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-btn {
            background: rgba(255,255,255,0.8);
            border: 2px solid var(--marrom);
            padding: 14px 28px;
            border-radius: 60px;
            font-weight: 600;
            color: var(--cinza-escuro);
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-size: 0.95rem;
        }

        .category-btn.active, .category-btn:hover {
            background: var(--marrom);
            color: white;
            border-color: var(--marrom-claro);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            padding: 0 35px 35px;
        }

        .menu-item {
            background: white;
            border-radius: var(--border-radius);
            padding: 0 0 25px 0;
            box-shadow: var(--sombra);
            border: 2px solid var(--marrom);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            position: relative;
            height: fit-content;
            display: flex;
            flex-direction: column;
        }

        .menu-item:hover {
            transform: translateY(-12px);
            box-shadow: var(--sombra-hover);
        }

        .item-photo {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-bottom: 3px solid var(--marrom);
            border-radius: 30px 30px 0 0 !important;
            display: block;
        }

        .item-content { 
            padding: 22px 25px 0; 
            flex: 1;
        }

        .item-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: baseline;
            margin-bottom: 15px; 
            flex-wrap: wrap;
            gap: 10px;
        }

        .item-name { 
            font-size: 1.5rem; 
            font-weight: 700; 
            color: var(--cinza-escuro); 
            line-height: 1.2;
        }

        .item-price {
            background: #f0f0f0;
            padding: 6px 18px;
            border-radius: 60px;
            border: 1px solid var(--marrom);
            font-weight: 800;
            font-size: 1.2rem;
            white-space: nowrap;
        }

        .item-desc { 
            color: #4a4a4a; 
            font-size: 0.95rem; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        .item-badge {
            background: #f0f0f0;
            padding: 6px 18px;
            border-radius: 60px;
            border: 1px solid var(--marrom);
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin: 0 25px 20px;
            align-self: flex-start;
        }

        .destaque-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            background: var(--marrom);
            color: white;
            padding: 8px 24px;
            border-radius: 60px;
            box-shadow: 0 6px 0 var(--preto);
            border: 2px solid var(--marrom-claro);
            animation: pulse 2s infinite;
            z-index: 100;
            font-size: 0.85rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        @keyframes pulse { 
            50% { transform: scale(1.05); } 
        }

        .empty-menu {
            text-align: center;
            padding: 80px 20px;
            background: white;
            border-radius: 50px;
            border: 2px solid var(--marrom);
            box-shadow: 0 8px 0 #d0d0d0;
            margin: 0 35px 35px;
        }

        .empty-menu h3 {
            font-size: 2rem;
            color: var(--cinza-escuro);
            font-family: 'Playfair Display', serif;
            margin-bottom: 20px;
        }

        .empty-menu p {
            font-size: 1.2rem;
            color: #4a4a4a;
            margin-bottom: 30px;
        }

        .footer {
            margin: 50px 35px 35px;
            text-align: center;
            border-top: 1px solid var(--marrom);
            padding-top: 30px;
        }

        #adminPanel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--cinza);
            overflow-y: auto;
            padding: 20px;
            display: none;
            z-index: 2000;
        }

        .admin-panel-content { 
            padding: 30px; 
        }

        #adminItemsList {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 30px;
            max-height: 600px;
            overflow-y: auto;
            padding: 15px;
        }

        .admin-item-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 22px;
            border: 2px solid var(--marrom);
            box-shadow: var(--sombra);
            transition: all 0.4s ease;
        }

        .admin-item-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--sombra-hover);
        }

        .admin-item-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 24px !important;
            border: 2px solid var(--marrom);
            transition: transform 0.5s;
        }

        .admin-item-card img:hover {
            transform: scale(1.05);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .stat-card {
            background: white;
            padding: 22px 25px;
            border-radius: 36px;
            border: 2px solid var(--marrom);
            box-shadow: 0 6px 0 #d0d0d0;
            text-align: center;
        }

        .stat-number { 
            font-size: 2.4rem; 
            font-weight: 800; 
            color: var(--marrom); 
            margin-top: 5px;
        }

        .form-control, .category-select {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid var(--marrom);
            border-radius: 40px;
            font-size: 1rem;
            background: white;
            margin-top: 5px;
        }

        .form-control:focus, .category-select:focus {
            outline: none;
            border-color: #5c3e2a;
            box-shadow: 0 0 0 3px rgba(139,69,19,0.1);
        }

        label {
            font-weight: 600;
            color: var(--cinza-escuro);
            display: block;
            margin-bottom: 5px;
        }

        .add-item-section, #adminEditForm {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 35px;
            border: 2px solid var(--marrom);
            box-shadow: 0 8px 0 #d0d0d0;
        }

        .section-title-custom {
            display: flex;
            align-items: center;
            gap: 15px;
            border-left: 12px solid var(--marrom);
            padding-left: 20px;
            margin-bottom: 25px;
        }

        .section-title-custom h2 {
            font-family: 'Playfair Display', serif;
            color: var(--cinza-escuro);
            font-size: 1.8rem;
        }

        .upload-area {
            background: white;
            border: 3px dashed var(--marrom);
            border-radius: 30px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 15px;
        }

        .upload-area:hover { 
            background: var(--cinza); 
            border-color: #5c3e2a; 
        }

        .upload-area div {
            font-size: 48px;
            color: var(--marrom);
            margin-bottom: 10px;
        }

        .image-preview { 
            display: none; 
            margin-top: 20px; 
            position: relative; 
        }

        .preview-container {
            background: white;
            border-radius: 20px;
            padding: 15px;
            border: 2px solid var(--marrom);
            position: relative;
        }

        .preview-container img {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 15px !important;
        }

        .remove-preview {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--marrom);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--marrom-claro);
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .filtros-container {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filtro-btn.active {
            background: var(--marrom) !important;
            color: white !important;
            border: 2px solid var(--marrom-claro) !important;
            box-shadow: 0 4px 0 var(--preto) !important;
        }

        #adminModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            padding: 20px;
        }

        .modal-content {
            background: white;
            max-width: 480px;
            width: 100%;
            padding: 50px 40px;
            border-radius: 60px;
            border: 2px solid var(--marrom);
            text-align: center;
            position: relative;
        }

        .w-100 { width: 100%; }

        @media (max-width: 768px) {
            body { padding: 12px; }
            .header, .admin-header { flex-direction: column; padding: 20px; }
            .logo-area { flex-direction: column; }
            .soda-icon { font-size: 48px; }
            h1 { font-size: 2.2rem; }
            .category-nav { margin: 20px; }
            .category-btn { padding: 12px 20px; width: calc(50% - 5px); }
            .menu-grid, #adminItemsList { grid-template-columns: 1fr; padding: 0 20px 20px; }
            .item-photo { height: 200px; }
            .footer { margin: 40px 20px 25px; }
            .admin-panel-content { padding: 20px; }
            .stats-container { grid-template-columns: 1fr; }
            .filtros-container { flex-direction: column; }
            .filtro-btn { width: 100%; }
            .empty-menu { margin: 0 20px 20px; padding: 60px 20px; }
            .empty-menu h3 { font-size: 1.6rem; }
        }

        @media (max-width: 480px) {
            body { padding: 8px; }
            h1 { font-size: 1.8rem; }
            .soda-icon { font-size: 42px; }
            .category-btn { width: 100%; }
            .item-header { flex-direction: column; align-items: flex-start; }
            .item-price { align-self: flex-start; }
            .destaque-badge { padding: 6px 16px; font-size: 0.75rem; top: -10px; right: 15px; }
            .admin-header h1 { font-size: 1.5rem; }
            .admin-panel-content { padding: 15px; }
            .modal-content { padding: 40px 25px; }
            .modal-content h2 { font-size: 2rem; }
            .empty-menu h3 { font-size: 1.4rem; }
            .empty-menu p { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <!-- ===== CARDÁPIO PÚBLICO ===== -->
    <div class="container">
        <div class="header">
            <div class="logo-area">
                <span class="soda-icon">🥤</span>
                <h1>NOSSO CLUBE</h1>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap; justify-content: center;">
                <span style="background: #000; color: #e0e0e0; padding: 10px 20px; border-radius: 50px; border: 1px solid #8B4513; font-size: 0.85rem; letter-spacing: 2px;">✦ BLACK EDITION ✦</span>
                <button class="admin-button" id="adminLoginBtn">⚙️ ADMIN</button>
            </div>
        </div>
        
        <div id="categorias-container" class="category-nav"></div>
        <div id="menu-content"></div>
        
        <!-- MENSAGEM DE CARDÁPIO VAZIO -->
        <div id="emptyMessage" class="empty-menu" style="display: none;">
            <h3>🍽️ CARDÁPIO VAZIO</h3>
            <p>Nenhum item cadastrado ainda.</p>
            <p style="font-size: 1rem; margin-bottom: 30px;">Acesse o painel administrativo para adicionar seus produtos.</p>
            <button onclick="document.getElementById('adminLoginBtn').click()" class="admin-button">ACESSAR ADMIN</button>
        </div>
        
        <div class="footer">
            <p style="font-size: 1.1rem; font-family: 'Playfair Display'; color: #000;">CARDÁPIO DIGITAL NOSSO CLUBE</p>
            <p style="color: #4a4a4a;">Atendimento das 12h às 23h • <strong style="color: #8B4513;">ATUALIZAÇÃO EM TEMPO REAL</strong></p>
            <p style="margin-top: 10px; color: #8B4513; font-weight: 600;">🥤 o que o admin adicionar aparece na hora! 🥤</p>
        </div>
    </div>

    <!-- ===== MODAL DE LOGIN ===== -->
    <div id="adminModal">
        <div class="modal-content">
            <span style="font-size: 72px; animation: girar 8s infinite linear; color: #8B4513; display: block; margin-bottom: 15px;">🥤</span>
            <h2 style="font-family: 'Playfair Display'; font-size: 2.4rem; margin-bottom: 10px; color: #2d2d2d;">NOSSO CLUBE</h2>
            <p style="color: #4a4a4a; margin-bottom: 25px;">Área Administrativa</p>
            <input type="password" id="modalSenha" class="form-control" placeholder="Digite sua senha">
            <button onclick="fazerLogin()" class="login-btn" style="width: 100%; margin-top: 20px;">ACESSAR PAINEL</button>
            <div id="modalLoginError" style="color: #8B4513; margin-top: 20px; display: none;">Senha incorreta!</div>
            <div style="margin-top: 25px; color: #4a4a4a;">Senha padrão: <strong>admin123</strong></div>
            <button onclick="fecharModal()" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 2rem; cursor: pointer; color: #8B4513;">✕</button>
        </div>
    </div>

    <!-- ===== PAINEL ADMINISTRATIVO ===== -->
    <div id="adminPanel">
        <div class="admin-panel-content">
            <!-- HEADER ADMIN -->
            <div class="admin-header">
                <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                    <span class="soda-icon">🥤</span>
                    <h1>ADMIN • NOSSO CLUBE</h1>
                </div>
                <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                    <button onclick="fecharAdmin()" class="admin-btn-secondary">VER CARDÁPIO</button>
                    <button onclick="logout()" class="admin-btn">SAIR</button>
                </div>
            </div>

            <!-- ESTATÍSTICAS -->
            <div class="stats-container">
                <div class="stat-card"><div style="color: #4a4a4a; font-weight: 600;">PRATOS DO DIA</div><div class="stat-number" id="statsPratosDia">0</div></div>
                <div class="stat-card"><div style="color: #4a4a4a; font-weight: 600;">PRATOS</div><div class="stat-number" id="statsPratos">0</div></div>
                <div class="stat-card"><div style="color: #4a4a4a; font-weight: 600;">BEBIDAS</div><div class="stat-number" id="statsBebidas">0</div></div>
                <div class="stat-card"><div style="color: #4a4a4a; font-weight: 600;">SOBREMESAS</div><div class="stat-number" id="statsSobremesas">0</div></div>
            </div>

            <!-- ADICIONAR ITEM -->
            <div class="add-item-section">
                <div class="section-title-custom">
                    <span style="font-size: 2rem;">➕</span>
                    <h2>ADICIONAR NOVO ITEM</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 20px;">
                    <div>
                        <label>NOME *</label>
                        <input type="text" id="novoNome" class="form-control" placeholder="Ex: Batata frita 300g">
                    </div>
                    <div>
                        <label>PREÇO *</label>
                        <input type="number" id="novoPreco" step="0.01" class="form-control" placeholder="12.00">
                    </div>
                    <div>
                        <label>CATEGORIA</label>
                        <select id="novaCategoria" class="category-select">
                            <option value="pratosDoDia">PRATOS DO DIA</option>
                            <option value="pratos" selected>PRATOS PRINCIPAIS</option>
                            <option value="bebidas">BEBIDAS</option>
                            <option value="sobremesas">SOBREMESAS</option>
                        </select>
                    </div>
                    <div>
                        <label>BADGE</label>
                        <input type="text" id="novoBadge" class="form-control" placeholder="PORÇÃO, ESPECIAL">
                    </div>
                </div>
                
                <div style="margin: 20px 0;">
                    <label>DESCRIÇÃO *</label>
                    <textarea id="novoDescricao" rows="3" class="form-control" placeholder="Descreva o item..."></textarea>
                </div>
                
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <input type="checkbox" id="novoDestaque" style="width: 20px; height: 20px; accent-color: #8B4513;">
                    <label style="font-weight: 600; margin: 0;">⭐ DESTAQUE DO DIA (apenas Pratos do Dia)</label>
                </div>
                
                <!-- UPLOAD -->
                <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                    <div>📸</div>
                    <p style="color: #2d2d2d; font-weight: 500;">Clique para fazer upload da imagem</p>
                    <small style="color: #6d6d6d;">JPG, PNG, WEBP - máx 5MB</small>
                </div>
                <input type="file" id="fileInput" accept="image/*" onchange="previewImage(event)" style="display: none;">
                
                <div id="imagePreview" class="image-preview">
                    <div class="preview-container">
                        <img id="previewImg" src="#" alt="Preview">
                        <button class="remove-preview" onclick="removerPreview(event)">✕</button>
                    </div>
                </div>
                
                <button onclick="adicionarItem()" class="btn-add w-100" style="margin-top: 25px;">➕ ADICIONAR ITEM AO CARDÁPIO</button>
            </div>

            <!-- EDIÇÃO DE ITEM -->
            <div id="adminEditForm" style="display: none;">
                <h3 style="font-family: 'Playfair Display'; border-left: 12px solid #8B4513; padding-left: 20px; margin-bottom: 25px; color: #2d2d2d;">✎ EDITAR ITEM</h3>
                <input type="hidden" id="editItemId">
                <input type="hidden" id="editItemCategoria">
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap: 20px;">
                    <div>
                        <label>NOME</label>
                        <input type="text" id="editNome" class="form-control">
                    </div>
                    <div>
                        <label>PREÇO (R$)</label>
                        <input type="number" id="editPreco" step="0.01" class="form-control">
                    </div>
                    <div style="grid-column: span 2;">
                        <label>DESCRIÇÃO</label>
                        <textarea id="editDescricao" rows="2" class="form-control"></textarea>
                    </div>
                    <div>
                        <label>BADGE</label>
                        <input type="text" id="editBadge" class="form-control">
                    </div>
                    <div>
                        <label>URL DA FOTO</label>
                        <input type="text" id="editFoto" class="form-control" placeholder="https://...">
                    </div>
                </div>
                
                <!-- UPLOAD NA EDIÇÃO -->
                <div style="margin-top: 25px;">
                    <label style="display: block; margin-bottom: 10px;">📸 OU FAÇA UPLOAD DE UMA NOVA IMAGEM:</label>
                    <div class="upload-area" onclick="document.getElementById('editFileInput').click()" style="padding: 20px;">
                        <div>📸</div>
                        <p style="color: #2d2d2d;">Clique para substituir a imagem</p>
                    </div>
                    <input type="file" id="editFileInput" accept="image/*" onchange="previewEditImage(event)" style="display: none;">
                    
                    <div id="editImagePreview" class="image-preview">
                        <div class="preview-container">
                            <img id="editPreviewImg" src="#" alt="Preview">
                            <button class="remove-preview" onclick="removerEditPreview(event)">✕</button>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 30px; flex-wrap: wrap;">
                    <button onclick="salvarEdicao()" class="admin-btn" style="flex: 2;">💾 SALVAR ALTERAÇÕES</button>
                    <button onclick="cancelarEdicao()" class="admin-btn-secondary" style="flex: 1;">✖ CANCELAR</button>
                    <button onclick="removerFotoItem()" class="admin-btn" style="flex: 1; background: #8B4513;">🗑️ REMOVER FOTO</button>
                </div>
            </div>

            <!-- FILTROS ADMIN -->
            <div class="filtros-container">
                <button class="filtro-btn" onclick="filtrarAdmin('pratosDoDia')">🍽️ PRATOS DO DIA</button>
                <button class="filtro-btn active" onclick="filtrarAdmin('pratos')">🍛 PRATOS</button>
                <button class="filtro-btn" onclick="filtrarAdmin('bebidas')">🥂 BEBIDAS</button>
                <button class="filtro-btn" onclick="filtrarAdmin('sobremesas')">🍨 SOBREMESAS</button>
            </div>

            <!-- BUSCA -->
            <div style="margin-bottom: 30px;">
                <input type="text" id="adminSearch" class="form-control" placeholder="🔍 Buscar item por nome ou descrição..." onkeyup="buscarItems()">
            </div>

            <!-- LISTA DE ITENS ADMIN -->
            <div id="adminItemsList"></div>
            
            <!-- BOTÃO LIMPAR TUDO -->
            <div style="margin-top: 40px; text-align: center; padding: 20px; border-top: 1px dashed #8B4513;">
                <button onclick="limparCardapio()" style="background: #8B4513; color: white; border: 2px solid #D2B48C; padding: 15px 40px; border-radius: 60px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 0 #000; font-size: 1.1rem; margin-bottom: 15px;">
                    🗑️ LIMPAR CARDÁPIO COMPLETO
                </button>
                <p style="color: #4a4a4a; margin-top: 15px; font-size: 0.9rem;">
                    ⚠️ Isso apaga TODOS os itens e deixa o cardápio vazio!
                </p>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // SISTEMA DE CARDÁPIO - ATUALIZAÇÃO EM TEMPO REAL
        // ============================================
        
        const STORAGE_KEY = 'nosso_clube_cardapio';
        const SENHA_ADMIN = 'admin123';
        
        // ========== BANCO DE DADOS LIMPO ==========
        const BANCO_DE_DADOS_LIMPO = {
            pratosDoDia: [],
            pratos: [],
            bebidas: [],
            sobremesas: []
        };

        // ========== ESTADO GLOBAL ==========
        let cardapioData = null;
        let adminCategoriaAtual = 'pratos';
        let uploadedImageData = null;
        let editUploadedImageData = null;
        let nextId = null;

        // ========== INICIALIZAÇÃO ==========
        function inicializarBanco() {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    cardapioData = JSON.parse(saved);
                    console.log('✅ Dados carregados do localStorage');
                } else {
                    cardapioData = JSON.parse(JSON.stringify(BANCO_DE_DADOS_LIMPO));
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(cardapioData));
                    console.log('✅ Banco de dados limpo inicializado');
                }
                atualizarNextIds();
                renderCardapio();
            } catch (e) {
                console.error('Erro ao inicializar:', e);
                cardapioData = JSON.parse(JSON.stringify(BANCO_DE_DADOS_LIMPO));
                localStorage.setItem(STORAGE_KEY, JSON.stringify(cardapioData));
                atualizarNextIds();
                renderCardapio();
            }
        }

        function atualizarNextIds() {
            nextId = {
                pratosDoDia: cardapioData.pratosDoDia.length > 0 ? Math.max(...cardapioData.pratosDoDia.map(i => i.id), 0) + 1 : 1,
                pratos: cardapioData.pratos.length > 0 ? Math.max(...cardapioData.pratos.map(i => i.id), 100) + 1 : 101,
                bebidas: cardapioData.bebidas.length > 0 ? Math.max(...cardapioData.bebidas.map(i => i.id), 200) + 1 : 201,
                sobremesas: cardapioData.sobremesas.length > 0 ? Math.max(...cardapioData.sobremesas.map(i => i.id), 300) + 1 : 301
            };
        }

        // ========== FUNÇÃO PRINCIPAL - ATUALIZA TUDO EM TEMPO REAL ==========
        function atualizarTudo() {
            // 1. SALVAR no localStorage
            localStorage.setItem(STORAGE_KEY, JSON.stringify(cardapioData));
            console.log('💾 Dados salvos no localStorage:', new Date().toLocaleTimeString());
            
            // 2. ATUALIZAR IDs
            atualizarNextIds();
            
            // 3. RENDERIZAR CARDÁPIO PÚBLICO (ATUALIZAÇÃO EM TEMPO REAL!)
            renderCardapio();
            console.log('🔄 Cardápio público atualizado!');
            
            // 4. ATUALIZAR ADMIN SE ESTIVER ABERTO
            const adminPanel = document.getElementById('adminPanel');
            if (adminPanel && adminPanel.style.display === 'block') {
                atualizarStats();
                renderizarItensAdmin(adminCategoriaAtual);
                console.log('🔄 Painel admin atualizado!');
            }
        }

        // ========== RENDERIZAR CARDÁPIO PÚBLICO ==========
        function renderCardapio() {
            if (!cardapioData) return;
            
            const categorias = ['pratosDoDia', 'pratos', 'bebidas', 'sobremesas'];
            const nomes = ['PRATOS DO DIA', 'PRATOS PRINCIPAIS', 'BEBIDAS', 'SOBREMESAS'];
            
            // VERIFICAR SE O CARDÁPIO ESTÁ VAZIO
            const totalItens = cardapioData.pratosDoDia.length + 
                              cardapioData.pratos.length + 
                              cardapioData.bebidas.length + 
                              cardapioData.sobremesas.length;
            
            const emptyMessage = document.getElementById('emptyMessage');
            
            if (totalItens === 0) {
                // EXIBIR MENSAGEM DE CARDÁPIO VAZIO
                if (emptyMessage) emptyMessage.style.display = 'block';
                const categoriasContainer = document.getElementById('categorias-container');
                const menuContent = document.getElementById('menu-content');
                if (categoriasContainer) categoriasContainer.innerHTML = '';
                if (menuContent) menuContent.innerHTML = '';
                return;
            } else {
                // ESCONDER MENSAGEM DE CARDÁPIO VAZIO
                if (emptyMessage) emptyMessage.style.display = 'none';
            }
            
            let catHtml = '';
            let sectionsHtml = '';
            
            categorias.forEach((cat, i) => {
                // BOTÕES DE CATEGORIA
                catHtml += `<button class="category-btn ${i === 1 ? 'active' : ''}" onclick="ativarCategoria('${cat}')">${nomes[i]}</button>`;
                
                const itens = cardapioData[cat] || [];
                if (itens.length === 0) return;
                
                // SEÇÃO DA CATEGORIA
                sectionsHtml += `<div id="section-${cat}" class="menu-section" style="display: ${i === 1 ? 'block' : 'none'};">`;
                sectionsHtml += `<div class="section-title" style="border-left: 12px solid #8B4513; padding-left: 25px; margin-bottom: 35px;">`;
                sectionsHtml += `<h2 style="color: #2d2d2d;">${nomes[i]}</h2>`;
                sectionsHtml += `<span style="background: #f0f0f0; padding: 6px 18px; border-radius: 40px; border: 1px solid #8B4513; margin-left: 20px;">${itens.length} opções</span>`;
                sectionsHtml += `</div><div class="menu-grid">`;
                
                // CARDS DOS ITENS
                itens.forEach(item => {
                    sectionsHtml += `<div class="menu-item" style="position: relative; border: 2px solid ${cat === 'pratosDoDia' && item.destaque ? '#D2B48C' : '#8B4513'};">`;
                    
                    if (cat === 'pratosDoDia' && item.destaque) {
                        sectionsHtml += `<div class="destaque-badge">DESTAQUE</div>`;
                    }
                    
                    if (item.foto) {
                        sectionsHtml += `<img src="${item.foto}" alt="${item.nome}" class="item-photo" loading="lazy">`;
                    } else {
                        sectionsHtml += `<div style="width:100%; height:220px; background:#f0f0f0; display:flex; align-items:center; justify-content:center; color:#8B4513; border-radius:30px 30px 0 0; border-bottom:3px solid #8B4513; font-size:1.1rem;">📸 SEM FOTO</div>`;
                    }
                    
                    sectionsHtml += `<div class="item-content">`;
                    sectionsHtml += `<div class="item-header"><span class="item-name">${item.nome}</span><span class="item-price">R$ ${item.preco.toFixed(2)}</span></div>`;
                    sectionsHtml += `<div class="item-desc">${item.descricao}</div>`;
                    sectionsHtml += `</div>`;
                    
                    if (item.badge && !(cat === 'pratosDoDia' && item.destaque)) {
                        sectionsHtml += `<span class="item-badge">${item.badge}</span>`;
                    }
                    
                    sectionsHtml += `</div>`;
                });
                
                sectionsHtml += `</div></div>`;
            });
            
            const categoriasContainer = document.getElementById('categorias-container');
            const menuContent = document.getElementById('menu-content');
            
            if (categoriasContainer) categoriasContainer.innerHTML = catHtml;
            if (menuContent) menuContent.innerHTML = sectionsHtml;
        }

        window.ativarCategoria = function(cat) {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.menu-section').forEach(s => s.style.display = 'none');
            if (event && event.target) event.target.classList.add('active');
            const section = document.getElementById(`section-${cat}`);
            if (section) section.style.display = 'block';
        };

        // ========== UPLOAD DE IMAGENS ==========
        window.previewImage = function(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    alert('❌ Arquivo muito grande! Máximo 5MB.');
                    return;
                }
                const reader = new FileReader();
                reader.onload = function(ev) {
                    const previewImg = document.getElementById('previewImg');
                    const imagePreview = document.getElementById('imagePreview');
                    if (previewImg && imagePreview) {
                        previewImg.src = ev.target.result;
                        imagePreview.style.display = 'block';
                        uploadedImageData = ev.target.result;
                    }
                };
                reader.readAsDataURL(file);
            }
        };

        window.previewEditImage = function(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    alert('❌ Arquivo muito grande! Máximo 5MB.');
                    return;
                }
                const reader = new FileReader();
                reader.onload = function(ev) {
                    const editPreviewImg = document.getElementById('editPreviewImg');
                    const editImagePreview = document.getElementById('editImagePreview');
                    const editFoto = document.getElementById('editFoto');
                    if (editPreviewImg && editImagePreview && editFoto) {
                        editPreviewImg.src = ev.target.result;
                        editImagePreview.style.display = 'block';
                        editUploadedImageData = ev.target.result;
                        editFoto.value = ev.target.result;
                    }
                };
                reader.readAsDataURL(file);
            }
        };

        window.removerPreview = function(e) {
            e.stopPropagation();
            const imagePreview = document.getElementById('imagePreview');
            const fileInput = document.getElementById('fileInput');
            if (imagePreview) imagePreview.style.display = 'none';
            if (fileInput) fileInput.value = '';
            uploadedImageData = null;
        };

        window.removerEditPreview = function(e) {
            e.stopPropagation();
            const editImagePreview = document.getElementById('editImagePreview');
            const editFileInput = document.getElementById('editFileInput');
            if (editImagePreview) editImagePreview.style.display = 'none';
            if (editFileInput) editFileInput.value = '';
            editUploadedImageData = null;
        };

        // ========== ADICIONAR ITEM - ATUALIZA EM TEMPO REAL ==========
        window.adicionarItem = function() {
            const nome = document.getElementById('novoNome')?.value.trim();
            const preco = document.getElementById('novoPreco')?.value;
            const desc = document.getElementById('novoDescricao')?.value.trim();
            const cat = document.getElementById('novaCategoria')?.value;
            
            if (!nome || !preco || !desc) {
                alert('❌ Preencha todos os campos obrigatórios!');
                return;
            }
            
            const novoItem = {
                id: nextId[cat],
                nome: nome,
                descricao: desc,
                preco: parseFloat(preco),
                badge: document.getElementById('novoBadge')?.value.trim() || null,
                destaque: cat === 'pratosDoDia' ? document.getElementById('novoDestaque')?.checked || false : false,
                foto: uploadedImageData || ''
            };
            
            cardapioData[cat].push(novoItem);
            
            // LIMPAR FORMULÁRIO
            if (document.getElementById('novoNome')) document.getElementById('novoNome').value = '';
            if (document.getElementById('novoPreco')) document.getElementById('novoPreco').value = '';
            if (document.getElementById('novoDescricao')) document.getElementById('novoDescricao').value = '';
            if (document.getElementById('novoBadge')) document.getElementById('novoBadge').value = '';
            if (document.getElementById('novoDestaque')) document.getElementById('novoDestaque').checked = false;
            if (document.getElementById('fileInput')) document.getElementById('fileInput').value = '';
            if (document.getElementById('imagePreview')) document.getElementById('imagePreview').style.display = 'none';
            uploadedImageData = null;
            
            // ATUALIZAR TUDO EM TEMPO REAL!
            atualizarTudo();
            
            alert('✅ Item adicionado com sucesso! O cardápio já foi atualizado!');
        };

        // ========== LOGIN ==========
        window.fazerLogin = function() {
            const senha = document.getElementById('modalSenha')?.value;
            if (senha === SENHA_ADMIN) {
                const adminModal = document.getElementById('adminModal');
                const adminPanel = document.getElementById('adminPanel');
                if (adminModal) adminModal.style.display = 'none';
                if (adminPanel) {
                    adminPanel.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }
                
                // RECARREGAR DADOS DO LOCALSTORAGE
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    cardapioData = JSON.parse(saved);
                    atualizarNextIds();
                }
                
                carregarAdmin();
            } else {
                const modalLoginError = document.getElementById('modalLoginError');
                if (modalLoginError) modalLoginError.style.display = 'block';
            }
        };

        window.fecharModal = function() {
            const adminModal = document.getElementById('adminModal');
            const modalSenha = document.getElementById('modalSenha');
            if (adminModal) adminModal.style.display = 'none';
            if (modalSenha) modalSenha.value = '';
            const modalLoginError = document.getElementById('modalLoginError');
            if (modalLoginError) modalLoginError.style.display = 'none';
        };

        window.fecharAdmin = function() {
            const adminPanel = document.getElementById('adminPanel');
            if (adminPanel) adminPanel.style.display = 'none';
            document.body.style.overflow = 'auto';
        };

        window.logout = function() {
            window.fecharAdmin();
            window.fecharModal();
        };

        function carregarAdmin() {
            atualizarStats();
            renderizarItensAdmin(adminCategoriaAtual);
        }

        function atualizarStats() {
            const statsPratosDia = document.getElementById('statsPratosDia');
            const statsPratos = document.getElementById('statsPratos');
            const statsBebidas = document.getElementById('statsBebidas');
            const statsSobremesas = document.getElementById('statsSobremesas');
            
            if (statsPratosDia) statsPratosDia.innerText = cardapioData.pratosDoDia.length;
            if (statsPratos) statsPratos.innerText = cardapioData.pratos.length;
            if (statsBebidas) statsBebidas.innerText = cardapioData.bebidas.length;
            if (statsSobremesas) statsSobremesas.innerText = cardapioData.sobremesas.length;
        }

        window.filtrarAdmin = function(cat) {
            adminCategoriaAtual = cat;
            
            document.querySelectorAll('.filtro-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.color = '#2d2d2d';
                btn.style.border = '2px solid #8B4513';
                btn.style.boxShadow = '0 4px 0 #d0d0d0';
            });
            
            if (event && event.target) {
                event.target.style.background = '#8B4513';
                event.target.style.color = 'white';
                event.target.style.border = '2px solid #D2B48C';
                event.target.style.boxShadow = '0 4px 0 #000';
            }
            
            renderizarItensAdmin(cat);
        };

        window.buscarItems = function() {
            renderizarItensAdmin(adminCategoriaAtual);
        };

        function renderizarItensAdmin(cat) {
            const itens = cardapioData[cat] || [];
            const searchInput = document.getElementById('adminSearch');
            const termo = searchInput ? searchInput.value.toLowerCase() : '';
            
            const filtrados = itens.filter(i => 
                i.nome.toLowerCase().includes(termo) || 
                i.descricao.toLowerCase().includes(termo) ||
                (i.badge && i.badge.toLowerCase().includes(termo))
            );
            
            let html = '';
            filtrados.forEach(item => {
                html += `<div class="admin-item-card">
                    <div style="width:100%; height:200px; background:#f8f8f8; border-radius:24px; margin-bottom:18px; overflow:hidden; border:2px solid #8B4513;">
                        ${item.foto ? 
                            `<img src="${item.foto}" style="width:100%; height:100%; object-fit:cover; border-radius:24px;" loading="lazy">` : 
                            `<div style="display:flex; align-items:center; justify-content:center; height:100%; color:#8B4513; font-size:1.1rem;">📸 SEM FOTO</div>`
                        }
                    </div>
                    <div>
                        <h3 style="color:#2d2d2d; font-size:1.4rem; margin-bottom:8px;">${item.nome}</h3>
                        <div style="font-size:1.5rem; font-weight:800; color:#8B4513; margin:12px 0;">R$ ${item.preco.toFixed(2)}</div>
                        <p style="color:#4a4a4a; margin-bottom:15px; line-height:1.6;">${item.descricao}</p>
                        ${item.badge ? `<span style="background:#8B4513; color:white; padding:6px 18px; border-radius:60px; display:inline-block; border:1px solid #D2B48C; font-size:0.85rem; letter-spacing:1px;">${item.badge}</span>` : ''}
                    </div>
                    <div style="display:flex; gap:12px; margin-top:25px; flex-wrap:wrap;">
                        <button onclick="editarItem('${cat}', ${item.id})" style="background:#8B4513; color:white; border:2px solid #D2B48C; padding:10px 20px; border-radius:60px; font-weight:700; cursor:pointer; flex:1; min-width:120px; box-shadow:0 4px 0 #000;">✏️ EDITAR</button>
                        <button onclick="apagarItem('${cat}', ${item.id})" style="background:#8B4513; color:white; border:2px solid #D2B48C; padding:10px 20px; border-radius:60px; font-weight:700; cursor:pointer; min-width:80px; box-shadow:0 4px 0 #000;">🗑️</button>
                    </div>
                </div>`;
            });
            
            const adminItemsList = document.getElementById('adminItemsList');
            if (adminItemsList) {
                if (filtrados.length === 0) {
                    adminItemsList.innerHTML = '<div style="text-align:center; padding:60px 20px; background:white; border-radius:50px; border:2px solid #8B4513; box-shadow:0 8px 0 #d0d0d0; font-size:1.2rem; color:#2d2d2d;">📭 Nenhum item nesta categoria. Adicione novos itens!</div>';
                } else {
                    adminItemsList.innerHTML = html;
                }
            }
        }

        // ========== EDIÇÃO DE ITEM ==========
        window.editarItem = function(cat, id) {
            const item = cardapioData[cat].find(i => i.id === id);
            if (!item) return;
            
            const editItemId = document.getElementById('editItemId');
            const editItemCategoria = document.getElementById('editItemCategoria');
            const editNome = document.getElementById('editNome');
            const editPreco = document.getElementById('editPreco');
            const editDescricao = document.getElementById('editDescricao');
            const editBadge = document.getElementById('editBadge');
            const editFoto = document.getElementById('editFoto');
            const adminEditForm = document.getElementById('adminEditForm');
            
            if (editItemId) editItemId.value = id;
            if (editItemCategoria) editItemCategoria.value = cat;
            if (editNome) editNome.value = item.nome || '';
            if (editPreco) editPreco.value = item.preco || '';
            if (editDescricao) editDescricao.value = item.descricao || '';
            if (editBadge) editBadge.value = item.badge || '';
            if (editFoto) editFoto.value = item.foto || '';
            
            if (adminEditForm) {
                adminEditForm.style.display = 'block';
                adminEditForm.scrollIntoView({ behavior: 'smooth' });
            }
            
            const editImagePreview = document.getElementById('editImagePreview');
            if (editImagePreview) editImagePreview.style.display = 'none';
            editUploadedImageData = null;
            
            const editFileInput = document.getElementById('editFileInput');
            if (editFileInput) editFileInput.value = '';
        };

        window.salvarEdicao = function() {
            const editItemId = document.getElementById('editItemId');
            const editItemCategoria = document.getElementById('editItemCategoria');
            const editNome = document.getElementById('editNome');
            const editPreco = document.getElementById('editPreco');
            const editDescricao = document.getElementById('editDescricao');
            const editBadge = document.getElementById('editBadge');
            const editFoto = document.getElementById('editFoto');
            
            if (!editItemId || !editItemCategoria) return;
            
            const id = parseInt(editItemId.value);
            const cat = editItemCategoria.value;
            const item = cardapioData[cat]?.find(i => i.id === id);
            
            if (item) {
                if (editNome) item.nome = editNome.value;
                if (editPreco) item.preco = parseFloat(editPreco.value);
                if (editDescricao) item.descricao = editDescricao.value;
                if (editBadge) item.badge = editBadge.value;
                
                if (editUploadedImageData) {
                    item.foto = editUploadedImageData;
                } else if (editFoto) {
                    item.foto = editFoto.value;
                }
                
                cancelarEdicao();
                atualizarTudo();
                alert('✨ Item atualizado com sucesso!');
            }
        };

        window.cancelarEdicao = function() {
            const adminEditForm = document.getElementById('adminEditForm');
            if (adminEditForm) adminEditForm.style.display = 'none';
        };

        window.removerFotoItem = function() {
            const editItemId = document.getElementById('editItemId');
            const editItemCategoria = document.getElementById('editItemCategoria');
            const editFoto = document.getElementById('editFoto');
            
            if (!editItemId || !editItemCategoria) return;
            
            const id = parseInt(editItemId.value);
            const cat = editItemCategoria.value;
            const item = cardapioData[cat]?.find(i => i.id === id);
            
            if (item) {
                item.foto = '';
                if (editFoto) editFoto.value = '';
                atualizarTudo();
                alert('📸 Foto removida com sucesso!');
            }
        };

        window.apagarItem = function(cat, id) {
            if (confirm('⚠️ Tem certeza que deseja apagar este item?')) {
                const index = cardapioData[cat].findIndex(i => i.id === id);
                if (index !== -1) {
                    cardapioData[cat].splice(index, 1);
                    atualizarTudo();
                    alert('🗑️ Item apagado com sucesso!');
                }
            }
        };

        // ========== LIMPAR CARDÁPIO COMPLETO ==========
        window.limparCardapio = function() {
            if (confirm('⚠️ TEM CERTEZA? Isso vai apagar TODOS os itens do cardápio e deixar VAZIO!')) {
                cardapioData = JSON.parse(JSON.stringify(BANCO_DE_DADOS_LIMPO));
                localStorage.setItem(STORAGE_KEY, JSON.stringify(cardapioData));
                atualizarNextIds();
                renderCardapio();
                
                if (document.getElementById('adminPanel').style.display === 'block') {
                    carregarAdmin();
                }
                
                alert('🗑️ Cardápio completamente limpo! Agora está vazio.');
            }
        };

        // ========== INICIALIZAÇÃO ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Inicializando sistema com ATUALIZAÇÃO EM TEMPO REAL...');
            inicializarBanco();
            
            const adminLoginBtn = document.getElementById('adminLoginBtn');
            if (adminLoginBtn) {
                adminLoginBtn.onclick = function(e) {
                    e.preventDefault();
                    const adminModal = document.getElementById('adminModal');
                    if (adminModal) adminModal.style.display = 'flex';
                };
            }
            
            console.log('✅ Sistema pronto! Admin e Cliente sincronizados em tempo real!');
        });
    </script>
</body>
</html>